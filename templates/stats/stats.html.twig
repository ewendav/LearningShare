{% extends 'base.html.twig' %}

{% block title %}{{ 'Statistiques'|trans }}{% endblock %}

{% block body %}
    <div class="container mt-5">

        <h1>{{ 'Statistiques'|trans }}</h1>

        <section class="mt-4">
            <h2>{{ 'Compétences les plus recherchées'|trans }}</h2>
            <ul>
                {% for skill in topSkills %}
                    <li>{{ skill.name }} — {{ skill.counter }} {{ 'recherches'|trans }}</li>
                {% else %}
                    <li>{{ 'Aucune donnée disponible.'|trans }}</li>
                {% endfor %}
            </ul>
        </section>

        <section class="mt-4">
            <h2>{{ 'Compétences les plus enseignées'|trans }}</h2>
            <ul>
                {% for skill in mostTaughtSkills %}
                    <li>{{ skill.skillName }} — {{ skill.usageCount }} {{ 'sessions'|trans }}</li>
                {% else %}
                    <li>{{ 'Aucune donnée disponible.'|trans }}</li>
                {% endfor %}
            </ul>
        </section>

        <section class="mt-4">
            <h2>{{ 'Top enseignants (6 derniers mois)'|trans }}</h2>
            <ul>
                {% for entry in topTeachers %}
                    <li>{{ entry.user.firstname }} — {{ 'Score d\'activité'|trans }} : {{ entry.activityScore }}</li>
                {% else %}
                    <li>{{ 'Aucun enseignant actif récemment.'|trans }}</li>
                {% endfor %}
            </ul>
        </section>

    </div>
{% endblock %}
